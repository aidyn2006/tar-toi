<!doctype html>
<!-- NO_PALETTE -->
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frame</title>
</head>
<body style="margin:0; padding:16px; font-family: sans-serif;">

<script>
    const CONFIG = {
        names:       { bride: "Аружан", groom: "Данияр" },
        day:         "21-03-2026",
        hour:        "19:00",
        location:    "Astana, Farhi Hall",
        locationUrl: "https://2gis.kz/astana",
        music:       { title: "Песня", artist: "Исполнитель", url: "" },
        gallery:     [],
        description: "Құрметті ағайын-туыс, сізді тойымызға шақырамыз...",
        toiOwners:   "Сырымбетовтар әулеті",
    };
</script>

<!-- ① HERO -->
<section>
    <div id="heroPhoto" style="width:100%; height:240px; background:#e6e6e6; display:flex; align-items:center; justify-content:center;">
        Фото жұпты
    </div>
    <h1 id="heroNames" style="margin:12px 0 4px;">Имя & Имя</h1>
</section>

<!-- ② ABOUT -->
<section>
    <p id="eventText">Құрметті ағайын-туыс, құда-жекжат, дос-жаран!</p>
    <p>Сіздерді балаларымыздың:</p>
    <h1 id="heroNamesLine">Имя & Имя</h1>
    <p>Шаңырақ көтеру тойына арналған салтанатты ақ дастарханымыздың қадірлі қонағы болуға шақырамыз</p>

    <!-- Календарь + время + обратный отсчёт -->
    <div>
        <div id="calMo"></div>
        <div id="calGrid"></div>
        <p id="heroDateLine"></p>
        <div>
            <span id="cdD">00</span> күн
            <span id="cdH">00</span> сағ
            <span id="cdM">00</span> мин
            <span id="cdS">00</span> сек
        </div>
    </div>
</section>

<!-- OWNERS -->
<section id="ownersSection">
    <strong>Той иелері</strong>
    <div id="ownersBigName">—</div>
</section>

<!-- LOCATION -->
<section>
    <h4>Мекенжай</h4>
    <p id="locationName"></p>
    <div id="mapBtnWrap" style="display:none;">
        <a id="mapBtn" target="_blank" rel="noreferrer noopener">Карта арқылы ашу</a>
    </div>
</section>

<!-- GALLERY -->
<section>
    <h4>Біздің сәттер</h4>
    <div id="gallerySlides"></div>
</section>

<!-- RSVP -->
<section>
    <h4>Ваш ответ</h4>
    <div id="rsvpForm">
        <input id="rName" placeholder="Ваше имя"><br>
        <input id="rPhone" placeholder="+7 (___) ___-__-__"><br>
        <input id="rGuests" type="number" min="1" value="1" placeholder="Количество гостей"><br>
        <textarea id="rNote" placeholder="Особые пожелания..."></textarea><br>
        <button onclick="submitRSVP && submitRSVP()">Подтвердить</button>
    </div>
    <div id="successMsg" style="display:none;">Спасибо! Ждём вас на нашем торжестве.</div>
</section>

<script>
    (function applyConfig() {
        const [dd, mm, yy] = CONFIG.day.split('-');
        const [hh, mi]     = CONFIG.hour.split(':');
        document.title = `${CONFIG.names.bride} & ${CONFIG.names.groom}`;

        document.getElementById('heroNames').textContent = `${CONFIG.names.bride} & ${CONFIG.names.groom}`;
        const nl = document.getElementById('heroNamesLine');
        if (nl) nl.textContent = `${CONFIG.names.groom} & ${CONFIG.names.bride}`;

        document.getElementById('heroDateLine').textContent = `${dd}.${mm}.${yy} · ${CONFIG.hour}`;

        const desc = document.getElementById('eventText');
        if (desc) desc.textContent = CONFIG.description || '';

        // calendar
        const calMo   = document.getElementById('calMo');
        const calGrid = document.getElementById('calGrid');
        if (calMo) calMo.textContent = `${dd}.${mm}.${yy}`;
        if (calGrid) {
            calGrid.innerHTML = '';
            calGrid.style.display = 'grid';
            calGrid.style.gridTemplateColumns = 'repeat(7,1fr)';
            const first = new Date(yy, mm-1, 1).getDay();
            const off   = first === 0 ? 6 : first - 1;
            const total = new Date(yy, mm, 0).getDate();
            for (let i = 0; i < off; i++) calGrid.appendChild(document.createElement('div'));
            for (let d = 1; d <= total; d++) {
                const e = document.createElement('div');
                e.textContent = d;
                if (d === Number(dd)) e.style.fontWeight = '700';
                calGrid.appendChild(e);
            }
        }

        // countdown
        (function countdown(){
            const target = new Date(`${yy}-${String(mm).padStart(2,'0')}-${String(dd).padStart(2,'0')}T${String(hh).padStart(2,'0')}:${String(mi).padStart(2,'0')}:00`);
            if (isNaN(target.getTime())) return;
            const set = (id,val)=>{ const el=document.getElementById(id); if(el) el.textContent = String(val).padStart(2,'0'); };
            const tick = () => {
                const now = new Date();
                let diff = Math.max(0, target - now);
                const sec = Math.floor(diff/1000)%60;
                const min = Math.floor(diff/60000)%60;
                const hr  = Math.floor(diff/3600000)%24;
                const day = Math.floor(diff/86400000);
                set('cdS', sec); set('cdM', min); set('cdH', hr); set('cdD', day);
            };
            tick();
            setInterval(tick, 1000);
        })();

        // owners
        const ownersBig = document.getElementById('ownersBigName');
        if (ownersBig && CONFIG.toiOwners) ownersBig.textContent = CONFIG.toiOwners;

        // location
        const loc = document.getElementById('locationName');
        if (loc) loc.textContent = CONFIG.location || '';
        const mapWrap = document.getElementById('mapBtnWrap');
        const mapBtn  = document.getElementById('mapBtn');
        if (mapBtn && CONFIG.locationUrl) {
            mapBtn.href = CONFIG.locationUrl;
            mapWrap.style.display = 'block';
        }

        // gallery
        const slides = document.getElementById('gallerySlides');
        if (slides) {
            slides.innerHTML = '';
            (CONFIG.gallery || []).forEach(url => {
                const img = document.createElement('img');
                img.src = url;
                img.alt = 'photo';
                img.style.maxWidth = '100%';
                img.style.display = 'block';
                img.style.marginBottom = '8px';
                slides.appendChild(img);
            });
            if (!CONFIG.gallery || CONFIG.gallery.length === 0) {
                slides.textContent = 'Добавьте фото в галерею';
            }
        }
    })();

    // submitRSVP
    window.submitRSVP = () => {
        document.getElementById('rsvpForm').style.display = 'none';
        document.getElementById('successMsg').style.display = 'block';
    };
</script>

</body>
</html>
